#!/bin/sh
find -name "* *" -print0 | sort -rz | while read -d $'\0' f; do mv -v "$f" "$(dirname "$f")/$(basename "${f// /_}")"; done
find . -type f -name "* *" -exec bash -c 'mv "$0" "${0// /_}"' {} \;
find -name "*_-_*" -print0 | sort -rz | while read -d $'\0' f; do mv -v "$f" "$(dirname "$f")/$(basename "${f/_-_/_}")"; done
find . -type f -name "*_-_*" -exec bash -c 'mv "$0" "${0/_-_/_}"' {} \;